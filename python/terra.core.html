<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>terra.core package &mdash; Terra 0.0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="terra.executor package" href="terra.executor.html" />
    <link rel="prev" title="terra.compute package" href="terra.compute.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Terra
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../terra/getting_started.html">What is Terra</a></li>
<li class="toctree-l1"><a class="reference internal" href="../terra/settings.html">Terra Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../terra/settings.html#executor-settings">Executor Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../terra/settings.html#compute-settings">Compute Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../terra/settings.html#workflow-settings">Workflow Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../terra/settings.html#logging-settings">Logging Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../terra/apps.html">Terra Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../terra/compute.html">Compute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../terra/executor.html">Executor</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">terra</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="terra.html">terra package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="terra.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="terra.compute.html">terra.compute package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">terra.core package</a></li>
<li class="toctree-l4"><a class="reference internal" href="terra.executor.html">terra.executor package</a></li>
<li class="toctree-l4"><a class="reference internal" href="terra.generic.html">terra.generic package</a></li>
<li class="toctree-l4"><a class="reference internal" href="terra.utils.html">terra.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="terra.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="terra.html#module-terra.logger">terra.logger module</a></li>
<li class="toctree-l3"><a class="reference internal" href="terra.html#module-terra.task">terra.task module</a></li>
<li class="toctree-l3"><a class="reference internal" href="terra.html#module-terra.workflow">terra.workflow module</a></li>
<li class="toctree-l3"><a class="reference internal" href="terra.html#module-terra">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../terra/contributing.html">Contributing Guidlines</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Terra</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">terra</a></li>
          <li class="breadcrumb-item"><a href="terra.html">terra package</a></li>
      <li class="breadcrumb-item active">terra.core package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/python/terra.core.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="terra-core-package">
<h1>terra.core package<a class="headerlink" href="#terra-core-package" title="Permalink to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</section>
<section id="module-terra.core.exceptions">
<span id="terra-core-exceptions-module"></span><h2>terra.core.exceptions module<a class="headerlink" href="#module-terra.core.exceptions" title="Permalink to this heading"></a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="terra.core.exceptions.ConfigurationWarning">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">terra.core.exceptions.</span></span><span class="sig-name descname"><span class="pre">ConfigurationWarning</span></span><a class="headerlink" href="#terra.core.exceptions.ConfigurationWarning" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#Warning" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Warning</span></code></a></p>
<p>Warning that Terra may be improperly configured</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="terra.core.exceptions.ImproperlyConfigured">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">terra.core.exceptions.</span></span><span class="sig-name descname"><span class="pre">ImproperlyConfigured</span></span><a class="headerlink" href="#terra.core.exceptions.ImproperlyConfigured" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#terra.core.exceptions.NoStackException" title="terra.core.exceptions.NoStackException"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoStackException</span></code></a></p>
<p>Exception for Terra is somehow improperly configured</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="terra.core.exceptions.NO_STACK_EXCEPTIONS">
<span class="sig-prename descclassname"><span class="pre">terra.core.exceptions.</span></span><span class="sig-name descname"><span class="pre">NO_STACK_EXCEPTIONS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">(&lt;class</span> <span class="pre">'terra.core.exceptions.NoStackException'&gt;,)</span></em><a class="headerlink" href="#terra.core.exceptions.NO_STACK_EXCEPTIONS" title="Permalink to this definition"></a></dt>
<dd><p>A tuple of Exceptions classes that will not</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#tuple" title="(in Python v3.9)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="terra.core.exceptions.NoStackException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">terra.core.exceptions.</span></span><span class="sig-name descname"><span class="pre">NoStackException</span></span><a class="headerlink" href="#terra.core.exceptions.NoStackException" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#Exception" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>An exception class that when unhandled, does not print the stack trace</p>
<p>Still behaves like an exception, but ideal for errors that you don’t want to
clutter the screen with stack traces, because the error message is all you
need to know. E.g. “File not found”, you just need the filename.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="terra.core.exceptions.NoStackValueError">
<span class="sig-prename descclassname"><span class="pre">terra.core.exceptions.</span></span><span class="sig-name descname"><span class="pre">NoStackValueError</span></span><a class="headerlink" href="#terra.core.exceptions.NoStackValueError" title="Permalink to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#terra.core.exceptions.NoStackValueError" title="terra.core.exceptions.NoStackValueError"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoStackValueError</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="terra.core.exceptions.setup_logging_exception_hook">
<span class="sig-prename descclassname"><span class="pre">terra.core.exceptions.</span></span><span class="sig-name descname"><span class="pre">setup_logging_exception_hook</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.exceptions.setup_logging_exception_hook" title="Permalink to this definition"></a></dt>
<dd><p>Setup logging of uncaught exceptions</p>
<p>MITM insert an error logging call on all uncaught exceptions. Should only
be called once, or else errors will be logged multiple times</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="terra.core.exceptions.setup_logging_ipython_exception_hook">
<span class="sig-prename descclassname"><span class="pre">terra.core.exceptions.</span></span><span class="sig-name descname"><span class="pre">setup_logging_ipython_exception_hook</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.exceptions.setup_logging_ipython_exception_hook" title="Permalink to this definition"></a></dt>
<dd><p>Setup logging of uncaught exceptions in ipython</p>
<p>MITM insert an error logging call on all uncaught exceptions. Should only
be called once, or else errors will be logged multiple times</p>
<p>If IPython cannot be imported, nothing happens.</p>
</dd></dl>

</section>
<section id="module-terra.core.settings">
<span id="terra-core-settings-module"></span><h2>terra.core.settings module<a class="headerlink" href="#module-terra.core.settings" title="Permalink to this heading"></a></h2>
<p>A Terra settings file contains all the configuration of your app run. This
document explains how settings work.</p>
<section id="the-basics">
<h3>The basics<a class="headerlink" href="#the-basics" title="Permalink to this heading"></a></h3>
<p>A settings file is just a json file with all your configurations set</p>
<p class="rubric">Example</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;compute&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;terra.compute.dummy&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;logging&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;level&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DEBUG3&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="designating-the-settings">
<h3>Designating the settings<a class="headerlink" href="#designating-the-settings" title="Permalink to this heading"></a></h3>
<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-TERRA_SETTINGS_FILE">
<span class="sig-name descname"><span class="pre">TERRA_SETTINGS_FILE</span></span><a class="headerlink" href="#envvar-TERRA_SETTINGS_FILE" title="Permalink to this definition"></a></dt>
<dd><p>When you run a Terra App, you have to tell it which settings you’re using.
Do this by using an environment variable, <span class="target" id="index-0"></span><a class="reference internal" href="#envvar-TERRA_SETTINGS_FILE"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">TERRA_SETTINGS_FILE</span></code></a>.</p>
</dd></dl>

</section>
<section id="default-settings">
<h3>Default settings<a class="headerlink" href="#default-settings" title="Permalink to this heading"></a></h3>
<p>A Terra settings file doesn’t have to define any settings if it doesn’t need
to. Each setting has a sensible default value. These defaults live in
<a class="reference internal" href="#terra.core.settings.global_templates" title="terra.core.settings.global_templates"><code class="xref py py-data docutils literal notranslate"><span class="pre">global_templates</span></code></a>.</p>
<p>Here’s the algorithm terra uses in compiling settings:</p>
<ul class="simple">
<li><p>Load settings from global_settings.py.</p></li>
<li><p>Load settings from the specified settings file, overriding the global
settings as necessary, in a nested update.</p></li>
</ul>
</section>
<section id="using-settings-in-python-code">
<h3>Using settings in Python code<a class="headerlink" href="#using-settings-in-python-code" title="Permalink to this heading"></a></h3>
<p>In your Terra apps, use settings by importing the object
<a class="reference internal" href="terra.html#terra.settings" title="terra.settings"><code class="xref py py-data docutils literal notranslate"><span class="pre">terra.settings</span></code></a>.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">terra</span> <span class="kn">import</span> <span class="n">settings</span>

<span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">max_time</span> <span class="o">&gt;</span> <span class="mi">15</span><span class="p">:</span>
    <span class="c1"># Do something</span>
</pre></div>
</div>
<p>Note that <a class="reference internal" href="terra.html#terra.settings" title="terra.settings"><code class="xref py py-data docutils literal notranslate"><span class="pre">terra.settings</span></code></a> isn’t a module - it’s an object. So importing
individual settings is not possible:</p>
</section>
<section id="altering-settings-at-runtime">
<h3>Altering settings at runtime<a class="headerlink" href="#altering-settings-at-runtime" title="Permalink to this heading"></a></h3>
<p>You shouldn’t alter settings in your applications at runtime. For example,
don’t do this in an app:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>

<span class="n">settings</span><span class="o">.</span><span class="n">DEBUG</span> <span class="o">=</span> <span class="kc">True</span>   <span class="c1"># Don&#39;t do this!</span>
</pre></div>
</div>
</section>
<section id="available-settings">
<h3>Available settings<a class="headerlink" href="#available-settings" title="Permalink to this heading"></a></h3>
<p>For a full list of available settings, see the
<a class="reference internal" href="../terra/settings.html#settings"><span class="std std-ref">settings reference</span></a>.</p>
</section>
<section id="using-settings-without-setting-terra-settings-file">
<h3>Using settings without setting TERRA_SETTINGS_FILE<a class="headerlink" href="#using-settings-without-setting-terra-settings-file" title="Permalink to this heading"></a></h3>
<p>In some cases, you might want to bypass the <span class="target" id="index-1"></span><a class="reference internal" href="#envvar-TERRA_SETTINGS_FILE"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">TERRA_SETTINGS_FILE</span></code></a>
environment variable. For example, if you are writing a simple metadata parse
app, you likely don’t want to have to set up an environment variable pointing
to a settings file for each file.</p>
<p>In these cases, you can configure Terra’s settings manually. Do this by
calling:</p>
<p><a class="reference internal" href="#terra.core.settings.LazySettings.configure" title="terra.core.settings.LazySettings.configure"><code class="xref py py-func docutils literal notranslate"><span class="pre">LazySettings.configure()</span></code></a></p>
<p class="rubric">Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>

<span class="n">settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">logging</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;level&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">})</span>
</pre></div>
</div>
<p>Pass <a class="reference internal" href="#terra.core.settings.LazySettings.configure" title="terra.core.settings.LazySettings.configure"><code class="xref py py-func docutils literal notranslate"><span class="pre">setting.configure()</span></code></a> the same arguments you
would pass to a <a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>, such as keyword arguments as in this example
where each keyword argument represents a setting and its value, or a
<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>. Each argument name should be the same name as the settings. If a
particular setting is not passed to
<a class="reference internal" href="#terra.core.settings.LazySettings.configure" title="terra.core.settings.LazySettings.configure"><code class="xref py py-func docutils literal notranslate"><span class="pre">settings.configure()</span></code></a> and is needed at some
later point, Terra will use the default setting value.</p>
<p>Configuring Terra in this fashion is mostly necessary - and, indeed,
recommended - when you’re using are running a trivial transient app in the
framework instead of a larger application.</p>
</section>
<dl class="py data">
<dt class="sig sig-object py" id="terra.core.settings.ENVIRONMENT_VARIABLE">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">ENVIRONMENT_VARIABLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'TERRA_SETTINGS_FILE'</span></em><a class="headerlink" href="#terra.core.settings.ENVIRONMENT_VARIABLE" title="Permalink to this definition"></a></dt>
<dd><p>The environment variable that store the file name of the configuration
file</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="terra.core.settings.ExpandedString">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">ExpandedString</span></span><a class="headerlink" href="#terra.core.settings.ExpandedString" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="terra.core.settings.LazyObject">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">LazyObject</span></span><a class="headerlink" href="#terra.core.settings.LazyObject" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.9/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A wrapper class that lazily evaluates (calls <a class="reference internal" href="#terra.core.settings.LazyObject._setup" title="terra.core.settings.LazyObject._setup"><code class="xref py py-func docutils literal notranslate"><span class="pre">LazyObject._setup()</span></code></a>)</p>
<p><a class="reference internal" href="#terra.core.settings.LazyObject" title="terra.core.settings.LazyObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">LazyObject</span></code></a> remains unevaluated until one of the supported magic
functions are called.</p>
<p>Based off of Django’s LazyObject</p>
<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.LazyObject.__contains__">
<span class="sig-name descname"><span class="pre">__contains__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.LazyObject.__contains__" title="Permalink to this definition"></a></dt>
<dd><p>Supported</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.LazyObject.__delattr__">
<span class="sig-name descname"><span class="pre">__delattr__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.LazyObject.__delattr__" title="Permalink to this definition"></a></dt>
<dd><p>Supported</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.LazyObject.__delitem__">
<span class="sig-name descname"><span class="pre">__delitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.LazyObject.__delitem__" title="Permalink to this definition"></a></dt>
<dd><p>Supported</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.LazyObject.__dir__">
<span class="sig-name descname"><span class="pre">__dir__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.LazyObject.__dir__" title="Permalink to this definition"></a></dt>
<dd><p>Supported</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.LazyObject.__getattr__">
<span class="sig-name descname"><span class="pre">__getattr__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.LazyObject.__getattr__" title="Permalink to this definition"></a></dt>
<dd><p>Supported</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.LazyObject.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.LazyObject.__getitem__" title="Permalink to this definition"></a></dt>
<dd><p>Supported</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.LazyObject.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.LazyObject.__iter__" title="Permalink to this definition"></a></dt>
<dd><p>Supported</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.LazyObject.__len__">
<span class="sig-name descname"><span class="pre">__len__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.LazyObject.__len__" title="Permalink to this definition"></a></dt>
<dd><p>Supported</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.LazyObject.__setattr__">
<span class="sig-name descname"><span class="pre">__setattr__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.LazyObject.__setattr__" title="Permalink to this definition"></a></dt>
<dd><p>Supported</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.LazyObject.__setitem__">
<span class="sig-name descname"><span class="pre">__setitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.LazyObject.__setitem__" title="Permalink to this definition"></a></dt>
<dd><p>Supported</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.LazyObject._setup">
<span class="sig-name descname"><span class="pre">_setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.LazyObject._setup" title="Permalink to this definition"></a></dt>
<dd><p>Abstract. Must be implemented by subclasses to initialize the wrapped
object.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#NotImplementedError" title="(in Python v3.9)"><strong>NotImplementedError</strong></a> – Will throw this exception unless a subclass redefines <a class="reference internal" href="#terra.core.settings.LazyObject._setup" title="terra.core.settings.LazyObject._setup"><code class="xref py py-func docutils literal notranslate"><span class="pre">_setup()</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="terra.core.settings.LazySettings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">LazySettings</span></span><a class="headerlink" href="#terra.core.settings.LazySettings" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#terra.core.settings.LazyObject" title="terra.core.settings.LazyObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">LazyObject</span></code></a></p>
<p>A <a class="reference internal" href="#terra.core.settings.LazyObject" title="terra.core.settings.LazyObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">LazyObject</span></code></a> proxy for either global Terra settings or a custom
settings object. The user can manually configure settings prior to using
them. Otherwise, Terra uses the config file pointed to by
<span class="target" id="index-2"></span><a class="reference internal" href="#envvar-TERRA_SETTINGS_FILE"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">TERRA_SETTINGS_FILE</span></code></a></p>
<p>Based off of <code class="xref py py-mod docutils literal notranslate"><span class="pre">django.conf</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.LazySettings._setup">
<span class="sig-name descname"><span class="pre">_setup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.LazySettings._setup" title="Permalink to this definition"></a></dt>
<dd><p>Load the config json file pointed to by the environment variable. This is
used the first time settings are needed, if the user hasn’t configured
settings manually.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – The name used to describe the settings object. Defaults to <code class="docutils literal notranslate"><span class="pre">settings</span></code></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#terra.core.exceptions.ImproperlyConfigured" title="terra.core.exceptions.ImproperlyConfigured"><strong>ImproperlyConfigured</strong></a> – If the settings has already been configured, will throw an error. Under
    normal circumstances, <a class="reference internal" href="#terra.core.settings.LazySettings._setup" title="terra.core.settings.LazySettings._setup"><code class="xref py py-func docutils literal notranslate"><span class="pre">_setup()</span></code></a> will not be called a second time.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.LazySettings.add_templates">
<span class="sig-name descname"><span class="pre">add_templates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">templates</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.LazySettings.add_templates" title="Permalink to this definition"></a></dt>
<dd><p>Helper function to easily expose adding more defaults templates to
<a class="reference internal" href="#terra.core.settings.global_templates" title="terra.core.settings.global_templates"><code class="xref py py-data docutils literal notranslate"><span class="pre">global_templates</span></code></a> specific for an application</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>templates</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – A list of pairs of dictionaries just like <a class="reference internal" href="#terra.core.settings.global_templates" title="terra.core.settings.global_templates"><code class="xref py py-data docutils literal notranslate"><span class="pre">global_templates</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.LazySettings.configure">
<span class="sig-name descname"><span class="pre">configure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.LazySettings.configure" title="Permalink to this definition"></a></dt>
<dd><p>Called to manually configure the settings. The ‘default_settings’
parameter sets where to retrieve any unspecified values from (its
argument should be a <a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*args</strong> – Passed along to <a class="reference internal" href="#terra.core.settings.Settings" title="terra.core.settings.Settings"><code class="xref py py-class docutils literal notranslate"><span class="pre">Settings</span></code></a></p></li>
<li><p><strong>**kwargs</strong> – Passed along to <a class="reference internal" href="#terra.core.settings.Settings" title="terra.core.settings.Settings"><code class="xref py py-class docutils literal notranslate"><span class="pre">Settings</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#terra.core.exceptions.ImproperlyConfigured" title="terra.core.exceptions.ImproperlyConfigured"><strong>ImproperlyConfigured</strong></a> – If settings is already configured, will throw this exception</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="terra.core.settings.LazySettings.configured">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">configured</span></span><a class="headerlink" href="#terra.core.settings.LazySettings.configured" title="Permalink to this definition"></a></dt>
<dd><p>Check if the settings have already been configured</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if has already been configured</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="terra.core.settings.LazySettingsThreaded">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">LazySettingsThreaded</span></span><a class="headerlink" href="#terra.core.settings.LazySettingsThreaded" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#terra.core.settings.LazySettings" title="terra.core.settings.LazySettings"><code class="xref py py-class docutils literal notranslate"><span class="pre">LazySettings</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.LazySettingsThreaded.__setattr__">
<span class="sig-name descname"><span class="pre">__setattr__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.LazySettingsThreaded.__setattr__" title="Permalink to this definition"></a></dt>
<dd><p>Supported</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.LazySettingsThreaded.downcast">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">downcast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.LazySettingsThreaded.downcast" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="terra.core.settings.ObjectDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">ObjectDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.ObjectDict" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></p>
<p>An object dictionary, that accesses dictionary keys using attributes (<code class="docutils literal notranslate"><span class="pre">.</span></code>)
rather than items (<code class="docutils literal notranslate"><span class="pre">[]</span></code>).</p>
<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.ObjectDict.__dir__">
<span class="sig-name descname"><span class="pre">__dir__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.ObjectDict.__dir__" title="Permalink to this definition"></a></dt>
<dd><p>Supported</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.ObjectDict.__getattr__">
<span class="sig-name descname"><span class="pre">__getattr__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.ObjectDict.__getattr__" title="Permalink to this definition"></a></dt>
<dd><p>Supported</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.ObjectDict.__setattr__">
<span class="sig-name descname"><span class="pre">__setattr__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.ObjectDict.__setattr__" title="Permalink to this definition"></a></dt>
<dd><p>Supported</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.ObjectDict.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.ObjectDict.update" title="Permalink to this definition"></a></dt>
<dd><p>Supported</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="terra.core.settings.Settings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">Settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.Settings" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#terra.core.settings.ObjectDict" title="terra.core.settings.ObjectDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectDict</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.Settings.__getattr__">
<span class="sig-name descname"><span class="pre">__getattr__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.Settings.__getattr__" title="Permalink to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">__getitem__</span></code> that will evaluate &#64;settings_property functions, and cache
the values</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.Settings.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">memo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_nil</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.Settings.to_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="terra.core.settings.TerraJSONEncoder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">TerraJSONEncoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skipkeys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure_ascii</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_circular</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separators</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.TerraJSONEncoder" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">JSONEncoder</span></code></p>
<p>Json serializer for <a class="reference internal" href="#terra.core.settings.LazySettings" title="terra.core.settings.LazySettings"><code class="xref py py-class docutils literal notranslate"><span class="pre">LazySettings</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Does not work on <a class="reference internal" href="#terra.core.settings.Settings" title="terra.core.settings.Settings"><code class="xref py py-class docutils literal notranslate"><span class="pre">Settings</span></code></a> since it would be handled
automatically as a <a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.TerraJSONEncoder.default">
<span class="sig-name descname"><span class="pre">default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.TerraJSONEncoder.default" title="Permalink to this definition"></a></dt>
<dd><p>Implement this method in a subclass such that it returns
a serializable object for <code class="docutils literal notranslate"><span class="pre">o</span></code>, or calls the base implementation
(to raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>).</p>
<p>For example, to support arbitrary iterators, you could
implement default like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="c1"># Let the base class default method raise the TypeError</span>
    <span class="k">return</span> <span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.TerraJSONEncoder.dumps">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dumps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.TerraJSONEncoder.dumps" title="Permalink to this definition"></a></dt>
<dd><p>Convenience function for running <cite>dumps</cite> using this encoder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obj</strong> (<a class="reference internal" href="#terra.core.settings.LazySettings" title="terra.core.settings.LazySettings"><code class="xref py py-class docutils literal notranslate"><span class="pre">LazySettings</span></code></a>) – Object to be converted to json friendly <a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.settings.TerraJSONEncoder.serializableSettings">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">serializableSettings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.TerraJSONEncoder.serializableSettings" title="Permalink to this definition"></a></dt>
<dd><p>Convert a <a class="reference internal" href="#terra.core.settings.Settings" title="terra.core.settings.Settings"><code class="xref py py-class docutils literal notranslate"><span class="pre">Settings</span></code></a> object into a json serializable <a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>.</p>
<p>Since <a class="reference internal" href="#terra.core.settings.Settings" title="terra.core.settings.Settings"><code class="xref py py-class docutils literal notranslate"><span class="pre">Settings</span></code></a> can contain <a class="reference internal" href="#terra.core.settings.settings_property" title="terra.core.settings.settings_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">settings_property()</span></code></a>, this
prevents json serialization. This function will evaluate all
<a class="reference internal" href="#terra.core.settings.settings_property" title="terra.core.settings.settings_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">settings_property()</span></code></a>’s for you.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obj</strong> (<a class="reference internal" href="#terra.core.settings.Settings" title="terra.core.settings.Settings"><code class="xref py py-class docutils literal notranslate"><span class="pre">Settings</span></code></a> or <a class="reference internal" href="#terra.core.settings.LazySettings" title="terra.core.settings.LazySettings"><code class="xref py py-class docutils literal notranslate"><span class="pre">LazySettings</span></code></a>) – Object to be converted to json friendly <a class="reference internal" href="#terra.core.settings.Settings" title="terra.core.settings.Settings"><code class="xref py py-class docutils literal notranslate"><span class="pre">Settings</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="terra.core.settings.check_is_loopback">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">check_is_loopback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hostname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.check_is_loopback" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="terra.core.settings.config_file">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">config_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.config_file" title="Permalink to this definition"></a></dt>
<dd><p>A <a class="reference internal" href="#terra.core.settings.settings_property" title="terra.core.settings.settings_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">settings_property()</span></code></a> for passing the filename of the config_file to
settings</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="terra.core.settings.filename_suffixes">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">filename_suffixes</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['_file',</span> <span class="pre">'_files',</span> <span class="pre">'_dir',</span> <span class="pre">'_dirs',</span> <span class="pre">'_path',</span> <span class="pre">'_paths']</span></em><a class="headerlink" href="#terra.core.settings.filename_suffixes" title="Permalink to this definition"></a></dt>
<dd><p>The list key suffixes that are to be considered for volume translation</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="terra.core.settings.global_templates">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">global_templates</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[({},</span> <span class="pre">{'logging':</span> <span class="pre">{'level':</span> <span class="pre">'ERROR',</span> <span class="pre">'severe_level':</span> <span class="pre">'ERROR',</span> <span class="pre">'severe_buffer_length':</span> <span class="pre">20,</span> <span class="pre">'format':</span> <span class="pre">'%(asctime)s</span> <span class="pre">(%(hostname)s:%(zone)s):</span> <span class="pre">%(levelname)s/%(processName)s</span> <span class="pre">-</span> <span class="pre">%(filename)s</span> <span class="pre">-</span> <span class="pre">%(message)s',</span> <span class="pre">'date_format':</span> <span class="pre">None,</span> <span class="pre">'style':</span> <span class="pre">'%',</span> <span class="pre">'server':</span> <span class="pre">{'hostname':</span> <span class="pre">&lt;function</span> <span class="pre">logging_hostname&gt;,</span> <span class="pre">'port':</span> <span class="pre">9020,</span> <span class="pre">'listen_host':</span> <span class="pre">&lt;function</span> <span class="pre">logging_listen_host&gt;,</span> <span class="pre">'listen_address':</span> <span class="pre">&lt;function</span> <span class="pre">logging_listen_address&gt;,</span> <span class="pre">'family':</span> <span class="pre">&lt;function</span> <span class="pre">logging_family&gt;},</span> <span class="pre">'log_file':</span> <span class="pre">&lt;function</span> <span class="pre">log_file&gt;},</span> <span class="pre">'executor':</span> <span class="pre">{'num_workers':</span> <span class="pre">2,</span> <span class="pre">'type':</span> <span class="pre">'ProcessPoolExecutor',</span> <span class="pre">'volume_map':</span> <span class="pre">[]},</span> <span class="pre">'compute':</span> <span class="pre">{'arch':</span> <span class="pre">'terra.compute.dummy',</span> <span class="pre">'volume_map':</span> <span class="pre">[]},</span> <span class="pre">'terra':</span> <span class="pre">{'config_file':</span> <span class="pre">&lt;function</span> <span class="pre">config_file&gt;,</span> <span class="pre">'disable_settings_dump':</span> <span class="pre">False,</span> <span class="pre">'lock_dir':</span> <span class="pre">&lt;function</span> <span class="pre">lock_dir&gt;,</span> <span class="pre">'current_service':</span> <span class="pre">None,</span> <span class="pre">'zone':</span> <span class="pre">'controller',</span> <span class="pre">'uuid':</span> <span class="pre">&lt;function</span> <span class="pre">terra_uuid&gt;},</span> <span class="pre">'overwrite':</span> <span class="pre">False,</span> <span class="pre">'service_start':</span> <span class="pre">None,</span> <span class="pre">'service_end':</span> <span class="pre">None,</span> <span class="pre">'settings_dir':</span> <span class="pre">&lt;function</span> <span class="pre">settings_dir&gt;,</span> <span class="pre">'status_file':</span> <span class="pre">&lt;function</span> <span class="pre">status_file&gt;,</span> <span class="pre">'processing_dir':</span> <span class="pre">&lt;function</span> <span class="pre">processing_dir&gt;,</span> <span class="pre">'unittest':</span> <span class="pre">&lt;function</span> <span class="pre">unittest&gt;,</span> <span class="pre">'resume':</span> <span class="pre">False}),</span> <span class="pre">({'compute':</span> <span class="pre">{'arch':</span> <span class="pre">'terra.compute.virtualenv'}},</span> <span class="pre">{'compute':</span> <span class="pre">{'virtualenv_dir':</span> <span class="pre">&lt;function</span> <span class="pre">need_to_set_virtualenv_dir&gt;}}),</span> <span class="pre">({'compute':</span> <span class="pre">{'arch':</span> <span class="pre">'virtualenv'}},</span> <span class="pre">{'compute':</span> <span class="pre">{'virtualenv_dir':</span> <span class="pre">&lt;function</span> <span class="pre">need_to_set_virtualenv_dir&gt;}}),</span> <span class="pre">({'compute':</span> <span class="pre">{'arch':</span> <span class="pre">'terra.compute.docker'}},</span> <span class="pre">{'compute':</span> <span class="pre">{'tty':</span> <span class="pre">&lt;function</span> <span class="pre">stdin_istty&gt;}}),</span> <span class="pre">({'compute':</span> <span class="pre">{'arch':</span> <span class="pre">'docker'}},</span> <span class="pre">{'compute':</span> <span class="pre">{'tty':</span> <span class="pre">&lt;function</span> <span class="pre">stdin_istty&gt;}})]</span></em><a class="headerlink" href="#terra.core.settings.global_templates" title="Permalink to this definition"></a></dt>
<dd><p>Templates are how we
conditionally assign default values. It is a list of pair tuples, where the
first in the tuple is a “pattern” and the second is the default values. If the
pattern is in the settings, then the default values are set for any unset
values.</p>
<p>Values are copies recursively, but only if not already set by your settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>, <a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="terra.core.settings.json_include_suffixes">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">json_include_suffixes</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['_json']</span></em><a class="headerlink" href="#terra.core.settings.json_include_suffixes" title="Permalink to this definition"></a></dt>
<dd><p>The list key suffixes that are to be considered executing json
include replacement at load time.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="terra.core.settings.json_load">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">json_load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.json_load" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="terra.core.settings.lock_dir">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">lock_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.lock_dir" title="Permalink to this definition"></a></dt>
<dd><p>A <a class="reference internal" href="#terra.core.settings.settings_property" title="terra.core.settings.settings_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">settings_property()</span></code></a> defining the directory where lock files should be
stored. In order for multiple terra workers to be able to communicate with
each other about a <a class="reference internal" href="terra.executor.html#terra.executor.resources.Resource" title="terra.executor.resources.Resource"><code class="xref py py-class docutils literal notranslate"><span class="pre">terra.executor.resources.Resource</span></code></a>, a common lock
directory needs to be established (that can be a network drive). The default
will be in the <a class="reference internal" href="#terra.core.settings.processing_dir" title="terra.core.settings.processing_dir"><code class="xref py py-func docutils literal notranslate"><span class="pre">processing_dir()</span></code></a>. However in cases such as celery, this
will need to be explicitly set, since celery starts before the processing dir
is defined. The lock_dir can be set by using environment variable
<code class="docutils literal notranslate"><span class="pre">TERRA_LOCK_DIR</span></code>, or using a settings file to set <code class="docutils literal notranslate"><span class="pre">terra.lock_dir</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="terra.core.settings.log_file">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">log_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.log_file" title="Permalink to this definition"></a></dt>
<dd><p>The default <a class="reference internal" href="#terra.core.settings.settings_property" title="terra.core.settings.settings_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">settings_property()</span></code></a> for the log_file.
The default is <a class="reference internal" href="#terra.core.settings.processing_dir" title="terra.core.settings.processing_dir"><code class="xref py py-func docutils literal notranslate"><span class="pre">processing_dir/terra.log</span></code></a>.
This log file is not used if <code class="docutils literal notranslate"><span class="pre">TERRA_DISABLE_TERRA_LOG</span></code> is true.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="terra.core.settings.logging_family">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">logging_family</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.logging_family" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="terra.core.settings.logging_hostname">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">logging_hostname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.logging_hostname" title="Permalink to this definition"></a></dt>
<dd><p>A <a class="reference internal" href="#terra.core.settings.settings_property" title="terra.core.settings.settings_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">settings_property()</span></code></a> for getting the hostname for logging.
Should the env. variable <code class="docutils literal notranslate"><span class="pre">TERRA_RESOLVE_HOSTNAME</span> <span class="pre">=</span> <span class="pre">1</span></code>, this function
will attempt to resolve the IP address of the default host route as per
<a class="reference external" href="https://stackoverflow.com/a/28950776">https://stackoverflow.com/a/28950776</a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="terra.core.settings.logging_listen_address">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">logging_listen_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.logging_listen_address" title="Permalink to this definition"></a></dt>
<dd><p>A <a class="reference internal" href="#terra.core.settings.settings_property" title="terra.core.settings.settings_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">settings_property()</span></code></a> defining the address on which the main
logger will listen. In some environments this may need to be overridden
(e.g., <code class="docutils literal notranslate"><span class="pre">0.0.0.0</span></code>) to ensure appropriate capture of service &amp; task logs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="terra.core.settings.logging_listen_host">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">logging_listen_host</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.logging_listen_host" title="Permalink to this definition"></a></dt>
<dd><p>A <a class="reference internal" href="#terra.core.settings.settings_property" title="terra.core.settings.settings_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">settings_property()</span></code></a> defining the host on which the main
logger will listen. In some environments this may need to be overridden
(e.g., <code class="docutils literal notranslate"><span class="pre">0.0.0.0</span></code>) to ensure appropriate capture of service &amp; task logs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="terra.core.settings.need_to_set_virtualenv_dir">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">need_to_set_virtualenv_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.need_to_set_virtualenv_dir" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="terra.core.settings.processing_dir">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">processing_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.processing_dir" title="Permalink to this definition"></a></dt>
<dd><p>The default <a class="reference internal" href="#terra.core.settings.settings_property" title="terra.core.settings.settings_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">settings_property()</span></code></a> for the processing directory. If not
set in your configuration, it will default to the directory where the config
file is stored. If this is not possible, it will use the current working
directory.</p>
<p>If the directory is not writeable, a temporary directory will be used instead</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="terra.core.settings.settings">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">settings</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'logging':</span> <span class="pre">{'level':</span> <span class="pre">'ERROR',</span> <span class="pre">'severe_level':</span> <span class="pre">'ERROR',</span> <span class="pre">'severe_buffer_length':</span> <span class="pre">20,</span> <span class="pre">'format':</span> <span class="pre">'%(asctime)s</span> <span class="pre">(%(hostname)s:%(zone)s):</span> <span class="pre">%(levelname)s/%(processName)s</span> <span class="pre">-</span> <span class="pre">%(filename)s</span> <span class="pre">-</span> <span class="pre">%(message)s',</span> <span class="pre">'date_format':</span> <span class="pre">None,</span> <span class="pre">'style':</span> <span class="pre">'%',</span> <span class="pre">'server':</span> <span class="pre">{'hostname':</span> <span class="pre">&lt;function</span> <span class="pre">logging_hostname&gt;,</span> <span class="pre">'port':</span> <span class="pre">9020,</span> <span class="pre">'listen_host':</span> <span class="pre">&lt;function</span> <span class="pre">logging_listen_host&gt;,</span> <span class="pre">'listen_address':</span> <span class="pre">&lt;function</span> <span class="pre">logging_listen_address&gt;,</span> <span class="pre">'family':</span> <span class="pre">&lt;function</span> <span class="pre">logging_family&gt;},</span> <span class="pre">'log_file':</span> <span class="pre">&lt;function</span> <span class="pre">log_file&gt;},</span> <span class="pre">'executor':</span> <span class="pre">{'num_workers':</span> <span class="pre">2,</span> <span class="pre">'type':</span> <span class="pre">'ProcessPoolExecutor',</span> <span class="pre">'volume_map':</span> <span class="pre">[]},</span> <span class="pre">'compute':</span> <span class="pre">{'arch':</span> <span class="pre">'terra.compute.dummy',</span> <span class="pre">'volume_map':</span> <span class="pre">[]},</span> <span class="pre">'terra':</span> <span class="pre">{'config_file':</span> <span class="pre">&lt;function</span> <span class="pre">config_file&gt;,</span> <span class="pre">'disable_settings_dump':</span> <span class="pre">False,</span> <span class="pre">'lock_dir':</span> <span class="pre">&lt;function</span> <span class="pre">lock_dir&gt;,</span> <span class="pre">'current_service':</span> <span class="pre">None,</span> <span class="pre">'zone':</span> <span class="pre">'controller',</span> <span class="pre">'uuid':</span> <span class="pre">&lt;function</span> <span class="pre">terra_uuid&gt;},</span> <span class="pre">'overwrite':</span> <span class="pre">False,</span> <span class="pre">'service_start':</span> <span class="pre">None,</span> <span class="pre">'service_end':</span> <span class="pre">None,</span> <span class="pre">'settings_dir':</span> <span class="pre">&lt;function</span> <span class="pre">settings_dir&gt;,</span> <span class="pre">'status_file':</span> <span class="pre">&lt;function</span> <span class="pre">status_file&gt;,</span> <span class="pre">'processing_dir':</span> <span class="pre">&lt;function</span> <span class="pre">processing_dir&gt;,</span> <span class="pre">'unittest':</span> <span class="pre">&lt;function</span> <span class="pre">unittest&gt;,</span> <span class="pre">'resume':</span> <span class="pre">False}</span></em><a class="headerlink" href="#terra.core.settings.settings" title="Permalink to this definition"></a></dt>
<dd><p>The setting object to use through out all of terra</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#terra.core.settings.LazySettings" title="terra.core.settings.LazySettings">LazySettings</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="terra.core.settings.settings_dir">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">settings_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.settings_dir" title="Permalink to this definition"></a></dt>
<dd><p>The default <a class="reference internal" href="#terra.core.settings.settings_property" title="terra.core.settings.settings_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">settings_property()</span></code></a> for settings dumps as JSON files.
The default is <a class="reference internal" href="#terra.core.settings.processing_dir" title="terra.core.settings.processing_dir"><code class="xref py py-func docutils literal notranslate"><span class="pre">processing_dir/settings</span></code></a>.
This directory is not used if settings.terra.disable_settings_dump is true.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="terra.core.settings.settings_property">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">settings_property</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.settings_property" title="Permalink to this definition"></a></dt>
<dd><p>Functions wrapped with this decorator will only be called once, and the value
from the call will be cached, and replace the function altogether in the
settings structure, similar to a cached lazy evaluation</p>
<p>One settings_property can safely reference another settings property, using
<code class="docutils literal notranslate"><span class="pre">self</span></code>, which will refer to the <a class="reference internal" href="#terra.core.settings.Settings" title="terra.core.settings.Settings"><code class="xref py py-class docutils literal notranslate"><span class="pre">Settings</span></code></a> object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>func</strong> (<a class="reference external" href="https://docs.python.org/3.9/glossary.html#term-function" title="(in Python v3.9)"><span class="xref std std-term">function</span></a>) – Function being decorated</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="terra.core.settings.status_file">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">status_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.status_file" title="Permalink to this definition"></a></dt>
<dd><p>The default <a class="reference internal" href="#terra.core.settings.settings_property" title="terra.core.settings.settings_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">settings_property()</span></code></a> for the status_file. The default is
<a class="reference internal" href="#terra.core.settings.processing_dir" title="terra.core.settings.processing_dir"><code class="xref py py-func docutils literal notranslate"><span class="pre">processing_dir/status.json</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="terra.core.settings.stdin_istty">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">stdin_istty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.stdin_istty" title="Permalink to this definition"></a></dt>
<dd><p>Default value for settings.compute.tty for the docker compute. This will
prevent trying to acquire a tty while the main process has no tty for
whatever reason.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="terra.core.settings.terra_uuid">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">terra_uuid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.terra_uuid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="terra.core.settings.unittest">
<span class="sig-prename descclassname"><span class="pre">terra.core.settings.</span></span><span class="sig-name descname"><span class="pre">unittest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.settings.unittest" title="Permalink to this definition"></a></dt>
<dd><p>A <a class="reference internal" href="#terra.core.settings.settings_property" title="terra.core.settings.settings_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">settings_property()</span></code></a> for determing if unittests are running or not</p>
<p>Checks the value of <span class="target" id="index-3"></span><a class="reference internal" href="terra.html#envvar-TERRA_UNITTEST"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">TERRA_UNITTEST</span></code></a> and returns True or False based
off of that.</p>
</dd></dl>

</section>
<section id="module-terra.core.signals">
<span id="terra-core-signals-module"></span><h2>terra.core.signals module<a class="headerlink" href="#module-terra.core.signals" title="Permalink to this heading"></a></h2>
<p>A “signal dispatcher” class which helps allow decoupled componets get notified
when actions occur elsewhere in the framework. In a nutshell, signals allow
certain senders to notify a set of receivers that some action has taken place.
They’re especially useful when many pieces of code may be interested in the
same events.</p>
<p>See <a class="reference external" href="https://docs.djangoproject.com/en/2.2/topics/signals/">https://docs.djangoproject.com/en/2.2/topics/signals/</a> for more info</p>
<dl class="py class">
<dt class="sig sig-object py" id="terra.core.signals.Signal">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">terra.core.signals.</span></span><span class="sig-name descname"><span class="pre">Signal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">providing_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_caching</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.signals.Signal" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.9/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class for all signals</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>providing_args</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – A list of the arguments this signal can pass along in a <a class="reference internal" href="#terra.core.signals.Signal.send" title="terra.core.signals.Signal.send"><code class="xref py py-func docutils literal notranslate"><span class="pre">send()</span></code></a>
call.</p></li>
<li><p><strong>use_caching</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – If use_caching is <code class="docutils literal notranslate"><span class="pre">True</span></code>, then for each distinct sender we cache the
receivers that sender has in <a class="reference internal" href="#terra.core.signals.Signal.sender_receivers_cache" title="terra.core.signals.Signal.sender_receivers_cache"><code class="xref py py-data docutils literal notranslate"><span class="pre">sender_receivers_cache</span></code></a>. The cache is
cleaned when <a class="reference internal" href="#terra.core.signals.Signal.connect" title="terra.core.signals.Signal.connect"><code class="xref py py-func docutils literal notranslate"><span class="pre">connect()</span></code></a> or <a class="reference internal" href="#terra.core.signals.Signal.disconnect" title="terra.core.signals.Signal.disconnect"><code class="xref py py-func docutils literal notranslate"><span class="pre">disconnect()</span></code></a> is called and
populated on <a class="reference internal" href="#terra.core.signals.Signal.send" title="terra.core.signals.Signal.send"><code class="xref py py-func docutils literal notranslate"><span class="pre">send()</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="terra.core.signals.Signal._live_receivers">
<span class="sig-name descname"><span class="pre">_live_receivers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sender</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.signals.Signal._live_receivers" title="Permalink to this definition"></a></dt>
<dd><p>Filter sequence of receivers to get resolved, live receivers.</p>
<p>This checks for weak references and resolves them, then returning only
live receivers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.signals.Signal.connect">
<span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">receiver</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sender</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weak</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dispatch_uid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.signals.Signal.connect" title="Permalink to this definition"></a></dt>
<dd><p>Connect receiver to sender for signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>receiver</strong> (<a class="reference external" href="https://docs.python.org/3.9/glossary.html#term-function" title="(in Python v3.9)"><span class="xref std std-term">function</span></a>) – A function or an instance method which is to receive signals.
Receivers must be hashable objects.
If weak is True, then receiver must be weak referenceable.
Receivers must be able to accept keyword arguments.
If a receiver is connected with a dispatch_uid argument, it
will not be added if another receiver was already connected
with that dispatch_uid.</p></li>
<li><p><strong>sender</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#object" title="(in Python v3.9)"><em>object</em></a>) – The sender to which the receiver should respond. Must either be
a Python object, or None to receive events from any sender.</p></li>
<li><p><strong>weak</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Whether to use weak references to the receiver. By default, the
module will attempt to use weak references to the receiver
objects. If this parameter is false, then strong references will
be used.</p></li>
<li><p><strong>dispatch_uid</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – An identifier used to uniquely identify a particular instance of
a receiver. This will usually be a string, though it may be
anything hashable.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.signals.Signal.disconnect">
<span class="sig-name descname"><span class="pre">disconnect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">receiver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sender</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dispatch_uid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.signals.Signal.disconnect" title="Permalink to this definition"></a></dt>
<dd><p>Disconnect receiver from sender for signal.</p>
<p>If weak references are used, disconnect need not be called. The receiver
will be removed from dispatch automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>receiver</strong> (<a class="reference external" href="https://docs.python.org/3.9/glossary.html#term-function" title="(in Python v3.9)"><span class="xref std std-term">function</span></a>) – The registered receiver to disconnect. May be none if
dispatch_uid is specified.</p></li>
<li><p><strong>sender</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#object" title="(in Python v3.9)"><em>object</em></a>) – The registered sender to disconnect</p></li>
<li><p><strong>dispatch_uid</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – the unique identifier of the receiver to disconnect</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.signals.Signal.has_listeners">
<span class="sig-name descname"><span class="pre">has_listeners</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sender</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.signals.Signal.has_listeners" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="terra.core.signals.Signal.receivers">
<span class="sig-name descname"><span class="pre">receivers</span></span><a class="headerlink" href="#terra.core.signals.Signal.receivers" title="Permalink to this definition"></a></dt>
<dd><p>The internal map of all signals that are connected to receivers</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.signals.Signal.send">
<span class="sig-name descname"><span class="pre">send</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sender</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">named</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.signals.Signal.send" title="Permalink to this definition"></a></dt>
<dd><p>Send signal from sender to all connected receivers.</p>
<p>If any receiver raises an error, the error propagates back through send,
terminating the dispatch loop. So it’s possible that all receivers
won’t be called if an error is raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sender</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#object" title="(in Python v3.9)"><em>object</em></a>) – The sender of the signal. Either a specific object or None.</p></li>
<li><p><strong>**named</strong> – Named arguments which will be passed to receivers.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>list</em> – Return a list of tuple pairs [(receiver, response), … ].</p></li>
<li><p><em>Environment Variables</em></p></li>
<li><p><em>———————</em></p></li>
<li><p><em>TERRA_UNITTEST</em> – Setting this to <code class="docutils literal notranslate"><span class="pre">1</span></code> will disable send. This is used during
unittesting to prevent unexpected behavior</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.signals.Signal.send_robust">
<span class="sig-name descname"><span class="pre">send_robust</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sender</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">named</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.signals.Signal.send_robust" title="Permalink to this definition"></a></dt>
<dd><p>Send signal from sender to all connected receivers catching errors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sender</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#object" title="(in Python v3.9)"><em>object</em></a>) – The sender of the signal. Can be any Python object (normally one
registered with a connect if you actually want something to
occur).</p></li>
<li><p><strong>**named</strong> – Named arguments which will be passed to receivers. These
arguments must be a subset of the argument names defined in
providing_args.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>list</em> – Return a list of tuple pairs [(receiver, response), … ].
If any receiver raises an error (specifically any subclass of
Exception), return the error instance as the result for that receiver.</p></li>
<li><p><em>Environment Variables</em></p></li>
<li><p><em>———————</em></p></li>
<li><p><em>TERRA_UNITTEST</em> – Setting this to <code class="docutils literal notranslate"><span class="pre">1</span></code> will disable send. This is used during
unittesting to prevent unexpected behavior</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="terra.core.signals.Signal.sender_receivers_cache">
<span class="sig-name descname"><span class="pre">sender_receivers_cache</span></span><a class="headerlink" href="#terra.core.signals.Signal.sender_receivers_cache" title="Permalink to this definition"></a></dt>
<dd><p>Stores receivers for a sender if
<a class="reference internal" href="#terra.core.signals.Signal.use_caching" title="terra.core.signals.Signal.use_caching"><code class="xref py py-data docutils literal notranslate"><span class="pre">use_caching</span></code></a> is on</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/weakref.html#weakref.WeakKeyDictionary" title="(in Python v3.9)">weakref.WeakKeyDictionary</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="terra.core.signals.Signal.use_caching">
<span class="sig-name descname"><span class="pre">use_caching</span></span><a class="headerlink" href="#terra.core.signals.Signal.use_caching" title="Permalink to this definition"></a></dt>
<dd><p>Set if caching was turned on</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="terra.core.signals.logger_configure">
<span class="sig-prename descclassname"><span class="pre">terra.core.signals.</span></span><span class="sig-name descname"><span class="pre">logger_configure</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;terra.core.signals.Signal</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#terra.core.signals.logger_configure" title="Permalink to this definition"></a></dt>
<dd><p>Signal:
Sent to the executor after the logger has been configured. This will happen
after the post_settings_configured signal.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="terra.core.signals.logger_reconfigure">
<span class="sig-prename descclassname"><span class="pre">terra.core.signals.</span></span><span class="sig-name descname"><span class="pre">logger_reconfigure</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;terra.core.signals.Signal</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#terra.core.signals.logger_reconfigure" title="Permalink to this definition"></a></dt>
<dd><p>Signal:
Sent to the executor after the logger has been reconfigured. This will happen
after the logger_configure signal.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="terra.core.signals.post_settings_configured">
<span class="sig-prename descclassname"><span class="pre">terra.core.signals.</span></span><span class="sig-name descname"><span class="pre">post_settings_configured</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;terra.core.signals.Signal</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#terra.core.signals.post_settings_configured" title="Permalink to this definition"></a></dt>
<dd><p>Signal:
Sent after settings has been configured. This will either happen after
<a class="reference internal" href="#terra.core.settings.LazySettings._setup" title="terra.core.settings.LazySettings._setup"><code class="xref py py-func docutils literal notranslate"><span class="pre">terra.core.settings.LazySettings._setup()</span></code></a> is trigger by accessing any
element in the settings (which is done automatically), or in rare cases after a
manual call to <a class="reference internal" href="#terra.core.settings.LazySettings.configure" title="terra.core.settings.LazySettings.configure"><code class="xref py py-func docutils literal notranslate"><span class="pre">terra.core.settings.LazySettings.configure()</span></code></a>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="terra.core.signals.post_settings_context">
<span class="sig-prename descclassname"><span class="pre">terra.core.signals.</span></span><span class="sig-name descname"><span class="pre">post_settings_context</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;terra.core.signals.Signal</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#terra.core.signals.post_settings_context" title="Permalink to this definition"></a></dt>
<dd><p>Signal:
Sent after scope __exit__ from a settings context (i.e., with statement).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="terra.core.signals.receiver">
<span class="sig-prename descclassname"><span class="pre">terra.core.signals.</span></span><span class="sig-name descname"><span class="pre">receiver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.signals.receiver" title="Permalink to this definition"></a></dt>
<dd><p>A decorator for connecting receivers to signals.</p>
<p>Used by passing in the signal (or list of signals) and keyword arguments to
connect:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal</strong> (<a class="reference internal" href="#terra.core.signals.Signal" title="terra.core.signals.Signal"><em>Signal</em></a>) – The signal registering against</p></li>
<li><p><strong>**kwargs</strong> – Additional arguments to send to the <a class="reference internal" href="#terra.core.signals.Signal.connect" title="terra.core.signals.Signal.connect"><code class="xref py py-func docutils literal notranslate"><span class="pre">Signal.connect()</span></code></a> function</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@receiver</span><span class="p">(</span><span class="n">post_save</span><span class="p">,</span> <span class="n">sender</span><span class="o">=</span><span class="n">MyModel</span><span class="p">)</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">signal_receiver</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">stuff</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@receiver</span><span class="p">([</span><span class="n">post_save</span><span class="p">,</span> <span class="n">post_delete</span><span class="p">],</span> <span class="n">sender</span><span class="o">=</span><span class="n">MyModel</span><span class="p">)</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">signals_receiver</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">stuff</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-terra.core.utils">
<span id="terra-core-utils-module"></span><h2>terra.core.utils module<a class="headerlink" href="#module-terra.core.utils" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="terra.core.utils.ClassHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">terra.core.utils.</span></span><span class="sig-name descname"><span class="pre">ClassHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">override_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.utils.ClassHandler" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#terra.core.utils.Handler" title="terra.core.utils.Handler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Handler</span></code></a></p>
<p>The <a class="reference internal" href="#terra.core.utils.ClassHandler" title="terra.core.utils.ClassHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClassHandler</span></code></a> is a generic handler class for abstracting specific
type of class and the base class, essentially letting you to make calls on a
“base” class easily, without any complications.</p>
<p>Like <a class="reference internal" href="#terra.core.utils.Handler" title="terra.core.utils.Handler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Handler</span></code></a>, except operates on a class instead of an instance of a
class.</p>
<p>Based loosely on <code class="xref py py-class docutils literal notranslate"><span class="pre">django.db.utils.ConnectionHandler</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="terra.core.utils.ClassHandler._connect_backend">
<span class="sig-name descname"><span class="pre">_connect_backend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.utils.ClassHandler._connect_backend" title="Permalink to this definition"></a></dt>
<dd><p>Overload this function in children classes</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="terra.core.utils.Handler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">terra.core.utils.</span></span><span class="sig-name descname"><span class="pre">Handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">override_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.utils.Handler" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.9/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>The <a class="reference internal" href="#terra.core.utils.Handler" title="terra.core.utils.Handler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Handler</span></code></a> is a generic handler class for abstracting specific
type of class and the base class, essentially letting you to make calls on a
“base” class easily, without any complications.</p>
<p>Based loosly on <code class="xref py py-class docutils literal notranslate"><span class="pre">django.db.utils.ConnectionHandler</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="terra.core.utils.Handler._connect_backend">
<span class="sig-name descname"><span class="pre">_connect_backend</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.utils.Handler._connect_backend" title="Permalink to this definition"></a></dt>
<dd><p>Overload this function in children classes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.utils.Handler.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.utils.Handler.close" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="terra.core.utils.cached_property">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">terra.core.utils.</span></span><span class="sig-name descname"><span class="pre">cached_property</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.utils.cached_property" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.9/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Decorator that converts a method with a single self argument into a
property cached on the instance.</p>
<p>Based off of django</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<a class="reference external" href="https://docs.python.org/3.9/glossary.html#term-function" title="(in Python v3.9)"><span class="xref std std-term">function</span></a>) – The function being wrapped</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, optional) – When not used as a decorator, allows you to make cached properties of
other methods. (e.g.
<code class="docutils literal notranslate"><span class="pre">url</span> <span class="pre">=</span> <span class="pre">cached_property(get_absolute_url,</span> <span class="pre">name='url')</span></code>)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Since <a class="reference internal" href="#terra.core.utils.cached_property" title="terra.core.utils.cached_property"><code class="xref py py-class docutils literal notranslate"><span class="pre">cached_property</span></code></a> is a non-data descriptor, it can be mocked
in instances using <code class="docutils literal notranslate"><span class="pre">__dict__</span></code>, however both classes and instances
(instantiated and uninstantiated) can be mocked using a <code class="docutils literal notranslate"><span class="pre">PropertyMock</span></code>
(data descriptor), as a simplier catch all. This will prevent the wrapped
function from being evaluated even once:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Foo</span><span class="p">():</span>
  <span class="nd">@cached_property</span>
  <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">called</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="mi">15</span>

<span class="n">bar</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span>
<span class="k">with</span> <span class="n">mock</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">object</span><span class="p">(</span><span class="n">Foo</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span>
    <span class="n">new_callable</span><span class="o">=</span><span class="n">mock</span><span class="o">.</span><span class="n">PropertyMock</span><span class="p">(</span><span class="n">return_value</span><span class="o">=</span><span class="mi">13</span><span class="p">))</span> <span class="k">as</span> <span class="n">mock_foo</span><span class="p">:</span>
  <span class="n">foo</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">foo</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="c1"># Mocked property</span>
<span class="nb">print</span><span class="p">(</span><span class="n">foo</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="c1"># Original property</span>
</pre></div>
</div>
<p>See <a class="reference external" href="https://docs.python.org/3/howto/descriptor.html#invoking-descriptors">https://docs.python.org/3/howto/descriptor.html#invoking-descriptors</a>
for more details</p>
<dl class="py method">
<dt class="sig sig-object py" id="terra.core.utils.cached_property.__get__">
<span class="sig-name descname"><span class="pre">__get__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.utils.cached_property.__get__" title="Permalink to this definition"></a></dt>
<dd><p>Call the function and puts the return value in <code class="docutils literal notranslate"><span class="pre">instance.__dict__</span></code> so
that subsequent attribute access on the instance returns the cached value
instead of calling <a class="reference internal" href="#terra.core.utils.cached_property.__get__" title="terra.core.utils.cached_property.__get__"><code class="xref py py-func docutils literal notranslate"><span class="pre">__get__()</span></code></a> again.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="terra.core.utils.cached_property.func">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#terra.core.utils.cached_property.func" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="terra.core.utils.cached_property.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#terra.core.utils.cached_property.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-terra.core">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-terra.core" title="Permalink to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="terra.compute.html" class="btn btn-neutral float-left" title="terra.compute package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="terra.executor.html" class="btn btn-neutral float-right" title="terra.executor package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, VSI.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>